<mxfile host="app.diagrams.net" modified="2025-01-01T19:00:00.000Z" agent="FlexPay-v2" version="24.7.17" etag="flow-v2" type="device">
  <diagram name="Transaction-Flow-v2" id="transaction_flow_v2">
    <mxGraphModel dx="1800" dy="1200" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1800" pageHeight="1400" background="light-dark(#222326, #121212)" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <!-- Title -->
        <mxCell id="title" value="FlexPay v2.0 - SAGA Transaction Flow (End-to-End)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=22;fontStyle=1;fontColor=#FFD966;sketch=1;curveFitting=1;jiggle=2;" vertex="1" parent="1">
          <mxGeometry x="500" y="20" width="800" height="40" as="geometry" />
        </mxCell>

        <mxCell id="subtitle" value="Production-Ready Payment Processing with Enterprise Patterns" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontColor=#FFD966;sketch=1;curveFitting=1;jiggle=2;" vertex="1" parent="1">
          <mxGeometry x="500" y="60" width="800" height="20" as="geometry" />
        </mxCell>

        <!-- Swimlanes -->
        <mxCell id="customer_lane" value="Customer Experience" style="swimlane;fillColor=none;strokeColor=#2196f3;strokeWidth=2;fontColor=#FFD966;sketch=1;curveFitting=1;jiggle=2;" vertex="1" parent="1">
          <mxGeometry x="100" y="100" width="1600" height="150" as="geometry" />
        </mxCell>

        <mxCell id="frontend_lane" value="Frontend Layer (Multi-Channel BFF)" style="swimlane;fillColor=none;strokeColor=#ff9800;strokeWidth=2;fontColor=#FFD966;sketch=1;curveFitting=1;jiggle=2;" vertex="1" parent="1">
          <mxGeometry x="100" y="250" width="1600" height="150" as="geometry" />
        </mxCell>

        <mxCell id="zerotrust_lane" value="Zero Trust Gateway + Security" style="swimlane;fillColor=none;strokeColor=#7b1fa2;strokeWidth=2;fontColor=#FFD966;sketch=1;curveFitting=1;jiggle=2;" vertex="1" parent="1">
          <mxGeometry x="100" y="400" width="1600" height="150" as="geometry" />
        </mxCell>

        <mxCell id="services_lane" value="Core Services (SAGA Orchestration)" style="swimlane;fillColor=none;strokeColor=#4caf50;strokeWidth=2;fontColor=#FFD966;sketch=1;curveFitting=1;jiggle=2;" vertex="1" parent="1">
          <mxGeometry x="100" y="550" width="1600" height="200" as="geometry" />
        </mxCell>

        <mxCell id="events_lane" value="Event Streaming & Async Processing" style="swimlane;fillColor=none;strokeColor=#c2185b;strokeWidth=2;fontColor=#FFD966;sketch=1;curveFitting=1;jiggle=2;" vertex="1" parent="1">
          <mxGeometry x="100" y="750" width="1600" height="150" as="geometry" />
        </mxCell>

        <mxCell id="external_lane" value="External Systems & Networks" style="swimlane;fillColor=none;strokeColor=#ff5722;strokeWidth=2;fontColor=#FFD966;sketch=1;curveFitting=1;jiggle=2;" vertex="1" parent="1">
          <mxGeometry x="100" y="900" width="1600" height="200" as="geometry" />
        </mxCell>

        <mxCell id="observability_lane" value="Observability & Incident Response" style="swimlane;fillColor=none;strokeColor=#795548;strokeWidth=2;fontColor=#FFD966;sketch=1;curveFitting=1;jiggle=2;" vertex="1" parent="1">
          <mxGeometry x="100" y="1100" width="1600" height="120" as="geometry" />
        </mxCell>

        <!-- Customer Experience Layer -->
        <mxCell id="customer_action" value="&lt;b&gt;1. Customer&lt;/b&gt;&lt;br/&gt;Initiates Payment&lt;br/&gt;Card/PIX/Boleto" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#2196f3;fontColor=#FFD966;align=center;sketch=1;curveFitting=1;jiggle=2;" vertex="1" parent="1">
          <mxGeometry x="150" y="140" width="130" height="70" as="geometry" />
        </mxCell>

        <mxCell id="payment_confirmation" value="&lt;b&gt;12. Payment&lt;/b&gt;&lt;br/&gt;Confirmation&lt;br/&gt;Real-time status" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#2196f3;fontColor=#FFD966;align=center;sketch=1;curveFitting=1;jiggle=2;" vertex="1" parent="1">
          <mxGeometry x="1520" y="140" width="130" height="70" as="geometry" />
        </mxCell>

        <!-- Frontend Layer -->
        <mxCell id="checkout_widget" value="&lt;b&gt;2. Checkout&lt;/b&gt;&lt;br/&gt;Widget/SDK&lt;br/&gt;PCI-compliant" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ff9800;fontColor=#FFD966;align=center;sketch=1;curveFitting=1;jiggle=2;" vertex="1" parent="1">
          <mxGeometry x="150" y="290" width="130" height="70" as="geometry" />
        </mxCell>

        <mxCell id="checkout_bff" value="&lt;b&gt;3. Checkout BFF&lt;/b&gt;&lt;br/&gt;TypeScript&lt;br/&gt;Optimized API" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ff9800;fontColor=#FFD966;align=center;sketch=1;curveFitting=1;jiggle=2;" vertex="1" parent="1">
          <mxGeometry x="320" y="290" width="130" height="70" as="geometry" />
        </mxCell>

        <mxCell id="merchant_notification" value="&lt;b&gt;11. Merchant&lt;/b&gt;&lt;br/&gt;Dashboard&lt;br/&gt;Real-time update" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ff9800;fontColor=#FFD966;align=center;sketch=1;curveFitting=1;jiggle=2;" vertex="1" parent="1">
          <mxGeometry x="1350" y="290" width="130" height="70" as="geometry" />
        </mxCell>

        <!-- Zero Trust Gateway -->
        <mxCell id="kong_gateway" value="&lt;b&gt;4. Kong Gateway&lt;/b&gt;&lt;br/&gt;Rate limiting&lt;br/&gt;Circuit breakers" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#7b1fa2;fontColor=#FFD966;align=center;sketch=1;curveFitting=1;jiggle=2;" vertex="1" parent="1">
          <mxGeometry x="150" y="440" width="130" height="70" as="geometry" />
        </mxCell>

        <mxCell id="auth0_sso" value="&lt;b&gt;Auth0 + JWT&lt;/b&gt;&lt;br/&gt;Validation&lt;br/&gt;Enterprise SSO" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#7b1fa2;fontColor=#FFD966;align=center;sketch=1;curveFitting=1;jiggle=2;" vertex="1" parent="1">
          <mxGeometry x="320" y="440" width="130" height="70" as="geometry" />
        </mxCell>

        <mxCell id="pci_vault" value="&lt;b&gt;PCI Vault&lt;/b&gt;&lt;br/&gt;Tokenization&lt;br/&gt;Secure isolation" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d32f2f;fontColor=#FFD966;align=center;sketch=1;curveFitting=1;jiggle=2;" vertex="1" parent="1">
          <mxGeometry x="490" y="440" width="130" height="70" as="geometry" />
        </mxCell>

        <!-- Core Services (SAGA) -->
        <mxCell id="saga_orchestrator" value="&lt;b&gt;5. SAGA Engine&lt;/b&gt;&lt;br/&gt;Transaction coordinator&lt;br/&gt;State machine" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#4caf50;fontColor=#FFD966;align=center;sketch=1;curveFitting=1;jiggle=2;" vertex="1" parent="1">
          <mxGeometry x="150" y="590" width="130" height="70" as="geometry" />
        </mxCell>

        <mxCell id="payment_service" value="&lt;b&gt;6. Payment Service&lt;/b&gt;&lt;br/&gt;Java Spring Boot&lt;br/&gt;Multi-rail routing" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#4caf50;fontColor=#FFD966;align=center;sketch=1;curveFitting=1;jiggle=2;" vertex="1" parent="1">
          <mxGeometry x="320" y="590" width="130" height="70" as="geometry" />
        </mxCell>

        <mxCell id="fraud_ml" value="&lt;b&gt;7. Fraud ML&lt;/b&gt;&lt;br/&gt;Python FastAPI&lt;br/&gt;Real-time scoring" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#4caf50;fontColor=#FFD966;align=center;sketch=1;curveFitting=1;jiggle=2;" vertex="1" parent="1">
          <mxGeometry x="490" y="590" width="130" height="70" as="geometry" />
        </mxCell>

        <mxCell id="clearing_service" value="&lt;b&gt;8. Clearing Service&lt;/b&gt;&lt;br/&gt;Java Spring Boot&lt;br/&gt;TCR processing" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#4caf50;fontColor=#FFD966;align=center;sketch=1;curveFitting=1;jiggle=2;" vertex="1" parent="1">
          <mxGeometry x="660" y="590" width="130" height="70" as="geometry" />
        </mxCell>

        <mxCell id="network_adapters" value="&lt;b&gt;Network Adapters&lt;/b&gt;&lt;br/&gt;Java jPOS&lt;br/&gt;ISO8583 dynamic" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#4caf50;fontColor=#FFD966;align=center;sketch=1;curveFitting=1;jiggle=2;" vertex="1" parent="1">
          <mxGeometry x="830" y="590" width="130" height="70" as="geometry" />
        </mxCell>

        <mxCell id="saga_compensate" value="&lt;b&gt;Compensation&lt;/b&gt;&lt;br/&gt;Automatic rollback&lt;br/&gt;if failure" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ff6b6b;fontColor=#FFD966;align=center;sketch=1;curveFitting=1;jiggle=2;" vertex="1" parent="1">
          <mxGeometry x="150" y="680" width="130" height="50" as="geometry" />
        </mxCell>

        <!-- Event Streaming -->
        <mxCell id="kafka_events" value="&lt;b&gt;9. Kafka MSK&lt;/b&gt;&lt;br/&gt;Event streaming&lt;br/&gt;Audit trail" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#c2185b;fontColor=#FFD966;align=center;sketch=1;curveFitting=1;jiggle=2;" vertex="1" parent="1">
          <mxGeometry x="150" y="790" width="130" height="70" as="geometry" />
        </mxCell>

        <mxCell id="sns_sqs" value="&lt;b&gt;SNS/SQS&lt;/b&gt;&lt;br/&gt;Fan-out pattern&lt;br/&gt;Async processing" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#c2185b;fontColor=#FFD966;align=center;sketch=1;curveFitting=1;jiggle=2;" vertex="1" parent="1">
          <mxGeometry x="320" y="790" width="130" height="70" as="geometry" />
        </mxCell>

        <mxCell id="webhook_svix" value="&lt;b&gt;10. Svix Webhooks&lt;/b&gt;&lt;br/&gt;Reliable delivery&lt;br/&gt;Retry automation" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#c2185b;fontColor=#FFD966;align=center;sketch=1;curveFitting=1;jiggle=2;" vertex="1" parent="1">
          <mxGeometry x="490" y="790" width="130" height="70" as="geometry" />
        </mxCell>

        <mxCell id="event_store" value="&lt;b&gt;Event Store&lt;/b&gt;&lt;br/&gt;S3 + Kafka&lt;br/&gt;Compliance audit" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#c2185b;fontColor=#FFD966;align=center;sketch=1;curveFitting=1;jiggle=2;" vertex="1" parent="1">
          <mxGeometry x="660" y="790" width="130" height="70" as="geometry" />
        </mxCell>

        <mxCell id="billing_lago" value="&lt;b&gt;Lago Billing&lt;/b&gt;&lt;br/&gt;Usage tracking&lt;br/&gt;Volume pricing" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#c2185b;fontColor=#FFD966;align=center;sketch=1;curveFitting=1;jiggle=2;" vertex="1" parent="1">
          <mxGeometry x="830" y="790" width="130" height="70" as="geometry" />
        </mxCell>

        <!-- External Systems -->
        <mxCell id="mastercard" value="&lt;b&gt;Mastercard&lt;/b&gt;&lt;br/&gt;Network processing&lt;br/&gt;MDES tokens" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ff5722;fontColor=#FFD966;align=center;sketch=1;curveFitting=1;jiggle=2;" vertex="1" parent="1">
          <mxGeometry x="150" y="950" width="130" height="80" as="geometry" />
        </mxCell>

        <mxCell id="visa" value="&lt;b&gt;Visa&lt;/b&gt;&lt;br/&gt;VIP support&lt;br/&gt;BASE24 clearing" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ff5722;fontColor=#FFD966;align=center;sketch=1;curveFitting=1;jiggle=2;" vertex="1" parent="1">
          <mxGeometry x="320" y="950" width="130" height="80" as="geometry" />
        </mxCell>

        <mxCell id="banks_pix" value="&lt;b&gt;Banking APIs&lt;/b&gt;&lt;br/&gt;PIX integration&lt;br/&gt;Open Banking" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ff5722;fontColor=#FFD966;align=center;sketch=1;curveFitting=1;jiggle=2;" vertex="1" parent="1">
          <mxGeometry x="490" y="950" width="130" height="80" as="geometry" />
        </mxCell>

        <mxCell id="bureaus" value="&lt;b&gt;Credit Bureaus&lt;/b&gt;&lt;br/&gt;Serasa/SPC&lt;br/&gt;Risk intelligence" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ff5722;fontColor=#FFD966;align=center;sketch=1;curveFitting=1;jiggle=2;" vertex="1" parent="1">
          <mxGeometry x="660" y="950" width="130" height="80" as="geometry" />
        </mxCell>

        <mxCell id="third_party_apis" value="&lt;b&gt;Third-party APIs&lt;/b&gt;&lt;br/&gt;SendGrid/Twilio&lt;br/&gt;Communication" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ff5722;fontColor=#FFD966;align=center;sketch=1;curveFitting=1;jiggle=2;" vertex="1" parent="1">
          <mxGeometry x="830" y="950" width="130" height="80" as="geometry" />
        </mxCell>

        <mxCell id="ecommerce" value="&lt;b&gt;E-commerce&lt;/b&gt;&lt;br/&gt;Shopify/WooCommerce&lt;br/&gt;Plugin integration" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ff5722;fontColor=#FFD966;align=center;sketch=1;curveFitting=1;jiggle=2;" vertex="1" parent="1">
          <mxGeometry x="1000" y="950" width="130" height="80" as="geometry" />
        </mxCell>

        <mxCell id="port_idp" value="&lt;b&gt;Port Platform&lt;/b&gt;&lt;br/&gt;IDP self-service&lt;br/&gt;Pulumi automation" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ff5722;fontColor=#FFD966;align=center;sketch=1;curveFitting=1;jiggle=2;" vertex="1" parent="1">
          <mxGeometry x="1170" y="950" width="130" height="80" as="geometry" />
        </mxCell>

        <!-- Observability -->
        <mxCell id="newrelic_apm" value="&lt;b&gt;New Relic APM&lt;/b&gt;&lt;br/&gt;Performance monitoring" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#795548;fontColor=#FFD966;align=center;sketch=1;curveFitting=1;jiggle=2;" vertex="1" parent="1">
          <mxGeometry x="150" y="1140" width="130" height="50" as="geometry" />
        </mxCell>

        <mxCell id="incident_io" value="&lt;b&gt;Incident.io&lt;/b&gt;&lt;br/&gt;Response automation" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#795548;fontColor=#FFD966;align=center;sketch=1;curveFitting=1;jiggle=2;" vertex="1" parent="1">
          <mxGeometry x="320" y="1140" width="130" height="50" as="geometry" />
        </mxCell>

        <mxCell id="k6_performance" value="&lt;b&gt;K6 Testing&lt;/b&gt;&lt;br/&gt;Load testing" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#795548;fontColor=#FFD966;align=center;sketch=1;curveFitting=1;jiggle=2;" vertex="1" parent="1">
          <mxGeometry x="490" y="1140" width="130" height="50" as="geometry" />
        </mxCell>

        <mxCell id="cloudwatch_s3" value="&lt;b&gt;CloudWatch → S3&lt;/b&gt;&lt;br/&gt;Log archiving" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#795548;fontColor=#FFD966;align=center;sketch=1;curveFitting=1;jiggle=2;" vertex="1" parent="1">
          <mxGeometry x="660" y="1140" width="130" height="50" as="geometry" />
        </mxCell>

        <!-- SAGA Flow States -->
        <mxCell id="saga_states" value="&lt;b&gt;SAGA States:&lt;/b&gt; START → RESERVE → VERIFY → PROCESS → UPDATE → SETTLE → NOTIFY → COMPLETE" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1;fontColor=#FFD966;sketch=1;curveFitting=1;jiggle=2;" vertex="1" parent="1">
          <mxGeometry x="100" y="1250" width="1600" height="30" as="geometry" />
        </mxCell>

        <mxCell id="compensation_note" value="&lt;b&gt;Compensation Actions:&lt;/b&gt; Each step has automatic rollback logic for failure scenarios (SAGA Pattern)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontColor=#FFD966;sketch=1;curveFitting=1;jiggle=2;" vertex="1" parent="1">
          <mxGeometry x="100" y="1280" width="1600" height="20" as="geometry" />
        </mxCell>

        <!-- Flow Arrows (Main Path) -->
        <mxCell id="arrow1" value="" style="endArrow=classic;html=1;strokeColor=#FFD966;strokeWidth=2;sketch=1;curveFitting=1;jiggle=2;" edge="1" parent="1" source="customer_action" target="checkout_widget">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="300" as="sourcePoint" />
            <mxPoint x="450" y="250" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="arrow2" value="" style="endArrow=classic;html=1;strokeColor=#FFD966;strokeWidth=2;sketch=1;curveFitting=1;jiggle=2;" edge="1" parent="1" source="checkout_widget" target="checkout_bff">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="300" as="sourcePoint" />
            <mxPoint x="450" y="250" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="arrow3" value="" style="endArrow=classic;html=1;strokeColor=#FFD966;strokeWidth=2;sketch=1;curveFitting=1;jiggle=2;" edge="1" parent="1" source="checkout_bff" target="kong_gateway">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="400" as="sourcePoint" />
            <mxPoint x="450" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="arrow4" value="" style="endArrow=classic;html=1;strokeColor=#FFD966;strokeWidth=2;sketch=1;curveFitting=1;jiggle=2;" edge="1" parent="1" source="kong_gateway" target="saga_orchestrator">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="500" as="sourcePoint" />
            <mxPoint x="450" y="450" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="arrow5" value="" style="endArrow=classic;html=1;strokeColor=#FFD966;strokeWidth=2;sketch=1;curveFitting=1;jiggle=2;" edge="1" parent="1" source="saga_orchestrator" target="payment_service">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="600" as="sourcePoint" />
            <mxPoint x="450" y="550" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="arrow6" value="" style="endArrow=classic;html=1;strokeColor=#FFD966;strokeWidth=2;sketch=1;curveFitting=1;jiggle=2;" edge="1" parent="1" source="payment_service" target="fraud_ml">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="600" as="sourcePoint" />
            <mxPoint x="450" y="550" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="arrow7" value="" style="endArrow=classic;html=1;strokeColor=#FFD966;strokeWidth=2;sketch=1;curveFitting=1;jiggle=2;" edge="1" parent="1" source="network_adapters" target="mastercard">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="700" as="sourcePoint" />
            <mxPoint x="450" y="650" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="arrow8" value="" style="endArrow=classic;html=1;strokeColor=#FFD966;strokeWidth=2;sketch=1;curveFitting=1;jiggle=2;" edge="1" parent="1" source="kafka_events" target="webhook_svix">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="800" as="sourcePoint" />
            <mxPoint x="450" y="750" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- Success Path -->
        <mxCell id="success_arrow1" value="Success" style="endArrow=classic;html=1;strokeColor=#4caf50;strokeWidth=2;sketch=1;curveFitting=1;jiggle=2;fontColor=#FFD966;" edge="1" parent="1" source="webhook_svix" target="merchant_notification">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="800" y="500" as="sourcePoint" />
            <mxPoint x="850" y="450" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1000" y="825" />
              <mxPoint x="1200" y="600" />
              <mxPoint x="1350" y="400" />
            </Array>
          </mxGeometry>
        </mxCell>

        <mxCell id="success_arrow2" value="Success" style="endArrow=classic;html=1;strokeColor=#4caf50;strokeWidth=2;sketch=1;curveFitting=1;jiggle=2;fontColor=#FFD966;" edge="1" parent="1" source="merchant_notification" target="payment_confirmation">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1400" y="300" as="sourcePoint" />
            <mxPoint x="1450" y="250" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- Failure Path -->
        <mxCell id="failure_arrow" value="Failure" style="endArrow=classic;html=1;strokeColor=#ff6b6b;strokeWidth=2;sketch=1;curveFitting=1;jiggle=2;fontColor=#FFD966;" edge="1" parent="1" source="fraud_ml" target="saga_compensate">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="650" as="sourcePoint" />
            <mxPoint x="450" y="600" as="targetPoint" />
            <Array as="points">
              <mxPoint x="400" y="650" />
              <mxPoint x="280" y="690" />
            </Array>
          </mxGeometry>
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>